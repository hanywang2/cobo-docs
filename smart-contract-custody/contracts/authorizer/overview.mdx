`Authorizer` is a module in `Cobo Safe` that is used to implement role-based access controls.

Before execution, all transactions sent via `execTransaction()` must be reviewed by an `Authorizer` first. Note that the `Authorizer` must be added to the `Cobo Account`.

`Authorizer` needs to implement the following interfaces:

```solidity
interface IAuthorizer {
    function flag() external view returns (uint256 authFlags);

    function preExecCheck(TransactionData calldata transaction) external returns (AuthorizerReturnData memory authData);

    function postExecCheck(
        TransactionData calldata transaction,
        TransactionResult calldata callResult,
        AuthorizerReturnData calldata preAuthData
    ) external returns (AuthorizerReturnData memory authData);

    function preExecProcess(TransactionData calldata transaction) external;

    function postExecProcess(TransactionData calldata transaction, TransactionResult calldata callResult) external;
}
```

- **preExecCheck**: review the details of a transaction before it is executed (e.g., contract address, call method, transaction amount)
- **postExecCheck**: review the transaction after it is executed (e.g., changes in wallet balance, leverage ratio)
- **preExecProcess**: complete certain operations before the transaction is executed (e.g., recording the transaction amount)
- **postExecProcess**: complete certain operations after the transaction is executed
- **flag**: mark which of the four functions are called

The following struct shows a transaction that is yet to be executed:

```solidity
struct TransactionData {
    address from; // `msg.sender` who performs the transaction a.k.a wallet address.
    address delegate; // Delegate who calls executeTransactions().
    // Same as CallData
    uint256 flag; // 0x1 delegate call, 0x0 call.
    address to;
    uint256 value;
    bytes data; // calldata
    bytes hint;
    bytes extra;
}
```

- **from**: the `msg.sender` of the transaction (e.g. the `from` value for `Cobo Safe Account` will be the contract address of Safe)
- **delegate**: the `Delegate` who sent the transaction; `Authorizer` will use this value to review whether the transaction is authorized
- All other fields have the same struct as that for `CallData`

Note that `postExecCheck` has two additional parameters:

- `TransactionResult:` the outcome or status of a transaction after it is executed
- `AuthorizerReturnData:`data returned by `preExecCheck`
